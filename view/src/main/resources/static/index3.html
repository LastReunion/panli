<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>一个还在搭建的世界</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        html,
        body {
            width: 100%;
            height: 100%;
            background: -webkit-radial-gradient(center center, circle closest-side, purple, black);
            overflow: hidden;
        }

        #container {
            perspective: 800px;
        }

        #box {
            width: 120px;
            height: 180px;
            position: relative;
            /* 设置box为3d视图 */
            transform-style: preserve-3d;
            transform: rotateX(-10deg);
            margin: 200px auto;
        }

        #box img {
            width: 100%;
            height: 100%;
            position: absolute;
            /* 设置图片的倒影 */
            -webkit-box-reflect: below 5px -webkit-linear-gradient(top, rgba(0,0,0,0) 40%, rgba(0,0,0,0.5) 100%);
        }
    </style>
</head>
<body>
<div id="container">
    <div id="box">
        <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1569433559123&di=7a06775a093ff7bc5dc060cb0db52323&imgtype=0&src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201810%2F04%2F20181004171057_mhvUW.thumb.700_0.png" alt="">
        <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1569433559123&di=7a06775a093ff7bc5dc060cb0db52323&imgtype=0&src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201810%2F04%2F20181004171057_mhvUW.thumb.700_0.png" alt="">
        <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1569433559123&di=7a06775a093ff7bc5dc060cb0db52323&imgtype=0&src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201810%2F04%2F20181004171057_mhvUW.thumb.700_0.png" alt="">
        <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1569433559123&di=7a06775a093ff7bc5dc060cb0db52323&imgtype=0&src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201810%2F04%2F20181004171057_mhvUW.thumb.700_0.png" alt="">
        <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1569433559123&di=7a06775a093ff7bc5dc060cb0db52323&imgtype=0&src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201810%2F04%2F20181004171057_mhvUW.thumb.700_0.png" alt="">
        <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1569433559123&di=7a06775a093ff7bc5dc060cb0db52323&imgtype=0&src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201810%2F04%2F20181004171057_mhvUW.thumb.700_0.png" alt="">
        <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1569433559123&di=7a06775a093ff7bc5dc060cb0db52323&imgtype=0&src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201810%2F04%2F20181004171057_mhvUW.thumb.700_0.png" alt="">
        <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1569433559123&di=7a06775a093ff7bc5dc060cb0db52323&imgtype=0&src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201810%2F04%2F20181004171057_mhvUW.thumb.700_0.png" alt="">
        <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1569433559123&di=7a06775a093ff7bc5dc060cb0db52323&imgtype=0&src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201810%2F04%2F20181004171057_mhvUW.thumb.700_0.png" alt="">
        <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1569433559123&di=7a06775a093ff7bc5dc060cb0db52323&imgtype=0&src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201810%2F04%2F20181004171057_mhvUW.thumb.700_0.png" alt="">
        <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1569433559123&di=7a06775a093ff7bc5dc060cb0db52323&imgtype=0&src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201810%2F04%2F20181004171057_mhvUW.thumb.700_0.png" alt="">
        <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1569433559123&di=7a06775a093ff7bc5dc060cb0db52323&imgtype=0&src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201810%2F04%2F20181004171057_mhvUW.thumb.700_0.png" alt="">
    </div>
</div>
<script>
    //每张图片围绕着Y轴转动等分角度，再沿Z轴平移一定距离
    function init() {
        var img = document.getElementsByTagName('img');
        var len = img.length;
        var deg = 360 / len;
        for (var i = 0;i<len;i++) {
            img[i].style.cssText = `transform: rotateY(${deg * i}deg) translateZ(350px);transition: transform 1s ${(len - i) * 0.1}s`
        }
        bindEvent();
    }

    var body = document.body;
    var box = document.getElementById('box');
    var lastX, lastY, nowX, nowY,
        disX = 0,
        disY = 0,
        roY = 0,
        roX = -10, //初始box的rotateX为10deg
        timer;

    //监听鼠标按下事件
    function bindEvent() {
        body.addEventListener('mousedown', mouseDown);
    }

    //鼠标按下事件执行的方法
    //鼠标按下后，同时监听鼠标移动和鼠标松开事件
    function mouseDown(e) {
        clearInterval(timer);
        var e =e || window.event;
        e.preventDefault();
        lastX = e.clientX;
        lastY = e.clientY;
        body.addEventListener('mousemove', mouseMove);
        body.addEventListener('mouseup', mouseUp);
    }

    //鼠标移动事件方法
    //根据鼠标移动的偏移量，设置box的XY轴转动角度
    function mouseMove(e) {
        var e = e || window.event;
        nowX = e.clientX;
        nowY = e.clientY;
        disX = nowX - lastX;
        disY = nowY - lastY;
        roX -= disY * 0.2;
        roY += disX * 0.2;
        box.style.cssText = `transform:rotateX(${roX}deg) rotateY(${roY}deg);cursor:move;`;
        lastX = nowX;
        lastY = nowY;
    }

    //鼠标松开事件方法
    //鼠标送开后，设置转动角度逐渐减小的循环函数，在转动角度可以忽略不计是，停止循环
    function mouseUp() {
        body.removeEventListener('mousemove', mouseMove);
        clearInterval(timer);
        timer = setInterval(function () {
            disX *= 0.98;
            disY *= 0.98;
            roX -= disY * 0.2;
            roY += disX * 0.2;
            box.style.cssText = `transform:rotateX(${roX}deg) rotateY(${roY}deg);cursor:pointer`;
            if (Math.abs(disX) < 0.1 && Math.abs(disY) < 0.1) {
                clearInterval(timer);
            }
        }, 20);
    }

    init();

</script>
</body>
</html>